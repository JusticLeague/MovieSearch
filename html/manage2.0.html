<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <!-- Vue.js -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <!-- axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>

<body style="background-color: #f5f8fa">
    <!-- As a link -->
    <nav class="navbar" style="background-color: #3097D1">
        <h4 style="color: white">后台管理</h4>
    </nav>

    <div class="container mt-3">
        <div id="manage">
            <p>

                <router-link to="/movie">
                    <button type="button" class="btn mr-3" style="background-color: #3097D1;color: white">电影管理</button>
                </router-link>


                <router-link to="/vip">
                    <button type="button" class="btn mr-3" style="background-color: #3097D1;color: white">用户管理</button>
                </router-link>


                <router-link to="/director">
                    <button type="button" class="btn mr-3" style="background-color: #3097D1;color: white">导演管理</button>
                </router-link>


                <router-link to="/actor">
                    <button type="button" class="btn mr-3" style="background-color: #3097D1;color: white">演员管理</button>
                </router-link>


            </p>
            <!-- <div class="alert alert-primary" role="alert"> -->
            <router-view></router-view>
            <!-- </div> -->
        </div>
    </div>


    <script>

        // 电影管理
        const movieManage = {
            template: `
            <div class="movie">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><router-link to="/movie/add">添加电影</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/movie/poster">添加图片</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/movie/list">影片列表</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/movie/search">影片搜索</router-link></li>
                    </ol>
                </nav>
                <div class="card" style="width: 60rem;margin:0 auto">
                    <div class="card-body">
                        <router-view></router-view>   
                    </div>
                </div>                                   
            </div>
                `
        }
        //用户管理
        const vipManage = {
            template: `
            <div class="vip">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><router-link to="/vip/list">用户列表</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/vip/search">用户搜索</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/vip/comment">评论</router-link></li>
                    </ol>
                </nav>             
                <div class="card" style="width: 60rem;margin:0 auto">
                    <div class="card-body">
                        <router-view></router-view>
                    </div>
                </div>               
            </div>
            `
        }

        //导演管理
        const directorManage = {
            template: `
            <div class="director">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><router-link to="/director/add">添加导演</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/director/pic">添加图片</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/director/list">导演列表</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/director/search">搜索导演</router-link></li>
                    </ol>
                </nav>
                <div class="card" style="width: 60rem;margin:0 auto">
                    <div class="card-body">
                        <router-view></router-view>
                    </div>
                </div>               
            </div>
            `
        }

        //演员管理
        const actorManage = {
            template: `
            <div class="actor">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><router-link to="/actor/add">添加演员</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/actor/pic">添加图片</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/actor/list">演员列表</router-link></li>
                        <li class="breadcrumb-item"><router-link to="/actor/search">搜索演员</router-link></li>
                    </ol>
                </nav>
                <div class="card" style="width: 60rem;margin:0 auto">
                    <div class="card-body">
                       <router-view></router-view>
                    </div>
                </div>
            </div>
            `
        }

        //添加电影 ok
        const movieAdd = {
            data() {
                return {
                    directorName: '',
                    movieName: '',
                    movieType: '',
                    movieCountry: '',
                    movieScore: '',
                    movieDate: '',
                    movieRatings: '',
                    movieDimension: '',
                    movieDesc: ''
                }
            },
            methods: {
                addMovie(dn, mn, mt, mc, ms, md, mr, mdi, mde) {
                    axios.post('/movie', {
                        'directorName': dn, 'movieName': mn, 'movieType': mt, 'movieCountry': mc, 'movieScore': ms,
                        'movieDate': md, 'movieRatings': mr, 'movieDimension': mdi, 'movieDesc': mde
                    }).then(
                        alert('添加成功')
                    ).catch((err) => {
                        alert('添加失败')
                    }

                    )
                }
            },
            template: `
            <div>
            <form>
                <div class="form-group">
                    <label for="exampleInputEmail1">电影名称</label>
                    <input type="text" class="form-control" name="movieName" v-model="movieName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">电影类型</label>
                    <input type="text" class="form-control" name="movieType" v-model="movieType" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">电影产地</label>
                    <input type="text" class="form-control" name="movieCountry" v-model="movieCountry" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">评分</label>
                    <input type="text" class="form-control" name="movieScore" v-model="movieScore" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">上映日期</label>
                    <input type="text" class="form-control" name="movieDate" v-model="movieDate" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">推荐指数</label>
                    <input type="text" class="form-control" name="movieRatings" v-model="movieRatings" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">维度</label>
                    <input type="text" class="form-control" name="movieDimension" v-model="movieDimension" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">导演</label>
                    <input type="text" class="form-control" name="directorName" v-model="directorName" id="exampleInputPassword1" placeholder="">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">简介</label>
                    <input type="text" class="form-control" name="movieDesc" v-model="movieDesc" id="exampleInputPassword1" placeholder="">
                </div>
                    <button type="button" @click="addMovie(directorName, movieName, movieType, movieCountry, movieScore,
                        movieDate, movieRatings, movieDimension, movieDesc)"  class="btn btn-primary">提交</button>
                </form>
                </div>
            `
        }

        const moviePoster = {
            data() {
                return {
                    posters: [],
                    movieId: 0
                }
            },
            methods: {
                handleRemove(file, fileList) {
                    console.log(file, fileList);
                },
                handlePreview(file) {
                    console.log(file);
                },
                submitUpload() {
                    // console.log(posters)
                    this.$refs.upload.submit();
                },
            },
            template: `
            <div>
                <input type="text" name="movieId" v-model="movieId"></input>
            
            <el-upload
                class="upload-demo"
                ref="upload"
                action="/movie/poster"
                :on-preview="handlePreview"
                :on-remove="handleRemove"
                :file-list="posters"
                :auto-upload="false">
                <el-button slot="trigger" size="small" type="primary">选取文件</el-button>
                <el-button style="margin-left: 10px;" size="small" type="success" @click="submitUpload">上传到服务器</el-button>
            </el-upload>
            </div>
            `
        }

        //电影列表 ok
        const movieList = {
            data() {
                return {
                    movies: []
                }
            },
            created() {
                this.movieList()
            },
            watch: {
                '$route': 'movieList'
            },
            methods: {
                movieList() {
                    axios.get('/movie/base').then((res) => this.movies = res.data);
                },

                updateMovie(i, n, t, c, s, d, r, di, de) {
                    axios.put('/movie/' + i, {
                        'movieId': i, 'movieName': n, 'movieType': t, 'movieCountry': c, 'movieScore': s,
                        'movieDate': d, 'movieRatings': r, 'movieDimension': di, 'movieDesc': de
                    }).then(
                        window.location.reload()
                    )
                },
                deleteMovie(i) {
                    axios.delete('/movie/' + i, { 'movieId': i }).then(window.location.reload());
                }
            },
            template: `
            <table class="table">
                <thead>
                    <tr>
                        <th>电影id</th>
                        <th>电影名称</th>
                        <th>电影类型</th>
                        <th>电影产地</th>
                        <th>电影评分</th>
                        <th>上映日期</th>
                        <th>推荐指数</th>
                        <th>维度</th>
                        <th>电影简介</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="m in movies">
                        <td scope="row">{{m.movieId}}</td>
                        <td>{{m.movieName}}</td>
                        <td>{{m.movieType}}</td>
                        <td>{{m.movieCountry}}</td>
                        <td>{{m.movieScore}}</td>
                        <td>{{m.movieDate}}</td>
                        <td>{{m.movieRatings}}</td>
                        <td>{{m.movieDimension}}</td>
                        <td>{{m.movieDesc}}</td>
                        <td>
                            <button type="button" class="btn btn-info" data-toggle="modal" v-bind:data-target="'#modal'+m.movieId">修改</button>
                            <div class="modal fade" v-bind:id="'modal'+m.movieId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <form>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">电影名称</label>
                                                    <input type="text" class="form-control" name="movieName" v-model="m.movieName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="">

                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">电影类型</label>
                                                    <input type="text" class="form-control" name="movieType" v-model="m.movieType" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">电影产地</label>
                                                    <input type="text" class="form-control" name="movieCountry" v-model="m.movieCountry" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">评分</label>
                                                    <input type="text" class="form-control" name="movieScore" v-model="m.movieScore" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">上映日期</label>
                                                    <input type="text" class="form-control" name="movieDate" v-model="m.movieDate" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">推荐指数</label>
                                                    <input type="text" class="form-control" name="movieRatings" v-model="m.movieRatings" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">维度</label>
                                                    <input type="text" class="form-control" name="movieDimension" v-model="m.movieDimension" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">简介</label>
                                                    <input type="text" class="form-control" name="movieDesc" v-model="m.movieDesc" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <button type="button" @click="updateMovie(m.movieId,m.movieName,m.movieType,m.movieCountry,
                                                    m.movieScore,m.movieDate,m.movieRatings,m.movieDimension,m.movieDesc)" class="btn btn-primary">提交</button>
                                            </form>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <button type="button" @click="deleteMovie(m.movieId)" class="btn btn-danger">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            `
        }

        //电影搜索 ok
        const movieSearch = {
            data() {
                return {
                    movie: [],
                    movieName: ''
                }
            },
            methods: {
                findMovie(n) {
                    axios.get('/movie/base/' + n).then((res) => this.movie = res.data);
                },
                updateMovie(i, n, t, c, s, d, r, di, dn, de) {
                    axios.put('/movie/' + i, {
                        'movieId': i, 'movieName': n, 'movieType': t, 'movieCountry': c, 'movieScore': s,
                        'movieDate': d, 'movieRatings': r, 'movieDimension': di, 'directorName': dn, 'movieDesc': de
                    }).then(() => {
                        // self.$router.replace({ path: 'search' }),
                        console.log('发送成功')
                        window.location.reload()
                    }
                    )
                },
                deleteMovie(i) {
                    axios.delete('/movie/' + i, { 'movieId': i }).then(window.location.reload());
                }
            },
            template: `
            <div>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" name="movieName" v-model="movieName"  placeholder="输入导演姓名" aria-label="Search">
                
                <button @click="findMovie(movieName)" class="btn btn-outline-success my-2 my-sm-0" type="button" data-toggle="collapse" data-target="#collapseMovie3"
                    aria-expanded="false" aria-controls="collapseExample">搜索</button>
            </form>
            <div class="row">
                <div class="col-lg-12">
                    <div class="collapse" id="collapseMovie3">
                        <div class="card card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>电影id</th>
                                        <th>电影名称</th>
                                        <th>电影类型</th>
                                        <th>电影产地</th>
                                        <th>电影评分</th>
                                        <th>上映日期</th>
                                        <th>推荐指数</th>
                                        <th>维度</th>
                                        <th>导演</th>
                                        <th>电影简介</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="m in movie">
                                        <td scope="row">{{m.movieId}}</td>
                                        <td>{{m.movieName}}</td>
                                        <td>{{m.movieType}}</td>
                                        <td>{{m.movieCountry}}</td>
                                        <td>{{m.movieScore}}</td>
                                        <td>{{m.movieDate}}</td>
                                        <td>{{m.movieRatings}}</td>
                                        <td>{{m.movieDimension}}</td>
                                        <td>{{m.directorId}}</td>
                                        <td>{{m.movieDesc}}</td>
                                        <td>
                                            <button type="button" class="btn btn-info" v-bind:data-target="'#modal'+m.movieId" data-toggle="modal">修改</button>
                                            <div class="modal fade" v-bind:id="'modal'+m.movieId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-body">
                                                            <form >
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">电影名称</label>
                                                                    <input type="text" class="form-control" name="movieName" v-model="m.movieName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">电影类型</label>
                                                                    <input type="text" class="form-control" name="movieType" v-model="m.movieType" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">电影产地</label>
                                                                    <input type="text" class="form-control" name="movieCountry" v-model="m.movieCountry" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">评分</label>
                                                                    <input type="text" class="form-control" name="movieScore" v-model="m.movieScore" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">上映日期</label>
                                                                    <input type="text" class="form-control" name="movieDate" v-model="m.movieDate" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">推荐指数</label>
                                                                    <input type="text" class="form-control" name="movieRatings" v-model="m.movieRatings" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">维度</label>
                                                                    <input type="text" class="form-control" name="movieDimension" v-model="m.movieDimension" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">导演</label>
                                                                    <input type="text" class="form-control" name="directorName" v-model="m.directorName" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">简介</label>
                                                                    <input type="text" class="form-control" name="movieDesc" v-model="m.movieDesc" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <button type="botton" @click="updateMovie(m.movieId,m.movieName,m.movieType,m.movieCountry,
                                                                m.movieScore,m.movieDate,m.movieRatings,m.movieDimension,m.directorName,m.movieDesc)" class="btn btn-primary">提交</button>
                                                            </form>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <button type="button" @click="deleteMovie(m.movieId)" class="btn btn-danger">删除</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            
                        </div>
                    </div>
                </div>
            </div>
            </div>
            `
        }

        //用户列表 ok
        const vipList = {
            data() {
                return {
                    vips: []
                }
            },
            created() {
                this.vipList()
            },
            watch: {
                '$route': 'vipList'
            },
            methods: {
                vipList() {
                    axios.get('/signIn').then((res) => this.vips = res.data)
                },
                updateVip(i, n, p) {
                    axios.put('/vip/' + i, { 'vipId': i, 'vipName': n, 'vipPhone': p }).then(
                        console.log('发送成功')
                    )
                },
                deleteVip(i) {
                    axios.delete('/vip/' + i, { 'vipId': i }).then()
                }
            },
            template: `
            <table class="table">
                <thead>
                    <tr>
                        <th>用户id</th>
                        <th>用户昵称</th>
                        <th>用户手机</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="v in vips">
                        <td scope="row">{{v.vipId}}</td>
                        <td>{{v.vipName}}</td>
                        <td>{{v.vipPhone}}</td>
                        <td>
                            <button type="button" class="btn btn-info" data-toggle="modal" v-bind:data-target="'#'+v.vipName">修改</button>
                            <div class="modal fade" v-bind:id=v.vipName tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <form>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">用户昵称</label>
                                                    <input type="text" class="form-control" name="vipName" v-model="v.vipName" id="exampleInputPassword1" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">用户手机</label>
                                                    <input type="text" class="form-control" name="vipPhone" v-model="v.vipPhone" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="">
                                                </div>
                                                <button type="button" @click="updateVip(v.vipId,v.vipName,v.vipPhone)" class="btn btn-primary">提交</button>
                                            </form>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <button type="button" @click="deleteVip(v.vipId)" class="btn btn-danger">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            `
        }

        //用户搜索 ok
        const vipSearch = {
            data() {
                return {
                    vip: [],
                    vipName: ''
                }
            },
            methods: {
                findVip(n) {
                    axios.get('/signIn/name/' + n).then((res) => this.vip = res.data);
                },
                updateVip(i, n, p) {
                    axios.put('/vip/' + i, { 'vipId': i, 'vipName': n, 'vipPhone': p }).then(
                        console.log('发送成功')
                    )
                },
                deleteVip(i) {
                    axios.delete('/vip/' + i, { 'vipId': i }).then()
                }
            },
            template: `
            <div>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" name="vipName" v-model="vipName" placeholder="输入用户昵称" aria-label="Search">
                
                <button @click="findVip(vipName)" class="btn btn-outline-success my-2 my-sm-0" type="button" data-toggle="collapse" data-target="#collapseVip3"
                    aria-expanded="false" aria-controls="collapseExample">搜索</button>
            </form>
            <div class="row">
                <div class="col-lg-12">
                    <div class="collapse" id="collapseVip3">
                        <div class="card card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>用户id</th>
                                        <th>用户昵称</th>
                                        <th>用户手机</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="v in vip">
                                        <td scope="row">{{v.vipId}}</td>
                                        <td>{{v.vipName}}</td>
                                        <td>{{v.vipPhone}}</td>
                                        <td>
                                            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#vipModal2">修改</button>
                                            <!-- 搜索导演并点击修改后的model -->
                                            <div class="modal fade" id="vipModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-body">
                                                            <form>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">用户昵称</label>
                                                                    <input type="text" class="form-control" name="vipName" v-model="v.vipName" id="exampleInputPassword1" placeholder="">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">用户手机</label>
                                                                    <input type="text" class="form-control" name="vipPhone" v-model="v.vipPhone" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="">
                                                                </div>
                                                                <button type="button" @click="updateVip(v.vipId,v.vipName,v.vipPhone)" class="btn btn-primary">提交</button>
                                                            </form>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <button type="button" @click="deleteVip(v.vipId)" class="btn btn-danger">删除</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            </div>
            `
        }

        //显示所有评论
        const vipComment = {
            data() {
                return {
                    comments: []
                }
            },
            created(){
                this.findComments()
            },
            watch: {
                '$route': 'findComments'
            },
            methods: {
                findComments() {
                    axios.get('/manage')
                        .then((res) => this.comments = res.data)
                },
                deleComment(i){
                    axios.delete('/manage/'+i).then(window.location.reload())
                }

            },
            template: `
                <table class="table">
                    <thead>
                        <tr>
                            <th>用户id</th>
                            <th>电影id</th>
                            <th>评论</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(c, index) in comments" :key="index">
                            <td>{{c.vipId}}</td>
                            <td>{{c.movieId}}</td>
                            <td>{{c.cmtComment}}</td>
                            <td>
                                <button type="button" @click="deleComment(c.cmtId)" class="btn btn-danger">删除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            `
        }

        //添加导演 ok
        const directorAdd = {
            data() {
                return {
                    directorName: '',
                    directorSex: 0,
                    directorBirth: '',
                    directorCountry: '',
                    directorDesc: ''
                }
            },
            methods: {
                addDirector(dn, ds, db, dc, dd) {
                    axios.post('/director',
                        {
                            'directorName': dn,
                            'directorSex': ds,
                            'directorBirth': db,
                            'directorCountry': dc,
                            'directorDesc': dd
                        }).then(
                            alert('添加成功')
                        ).catch((err) => {
                            alert('添加失败')
                        }
                        )
                }
            },
            template: `
            <div>
            <form>
                <div class="form-group">
                    <label for="exampleInputEmail1">导演名字</label>
                    <input type="text" class="form-control" name="directorName" v-model="directorName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="输入导演姓名">

                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="directorSex" v-model="directorSex" id="exampleRadios1" value="1" checked>
                    <label class="form-check-label" for="exampleRadios1">
                        男
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="directorSex" v-model="directorSex" id="exampleRadios2" value="0">
                    <label class="form-check-label" for="exampleRadios2">
                        女
                    </label>
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">出生日期</label>
                    <input type="text" class="form-control" name="directorBirth" v-model="directorBirth" id="exampleInputPassword1" placeholder="输入出生日期">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">国籍</label>
                    <input type="text" class="form-control" name="directorCountry" v-model="directorCountry" id="exampleInputPassword1" placeholder="输入国籍">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">简介</label>
                    <input type="text" class="form-control" name="directorDesc" v-model="directorDesc" id="exampleInputPassword1" placeholder="输入简介">
                </div>
                <button type="button" @click="addDirector(directorName,directorSex,directorBirth,directorCountry,directorDesc)" class="btn btn-primary">添加</button>
            </form>
            <iframe id="iframe" name="iframeDA" style="display:none;"></iframe>
            </div>
            `
        }

        const directorPic = {
            template: `
            <form>
                <div class="form-group mt-3">
                    <label for="exampleInputEmail1">导演姓名</label>
                    <input type="text" class="form-control" namr="name" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="输入导演姓名">
                </div>
                <div class="form-group mt-4">
                    <label for="exampleFormControlFile1">Example file input</label>
                    <input type="file" multiple class="form-control-file" id="exampleFormControlFile1">
                    <button type="submit" class="btn btn-primary mt-3">上传</button>
                </div>
            </form>
            `
        }

        //导演列表 ok
        const directorList = {
            data() {
                return {
                    directors: [],
                }
            },
            created() {
                // 组件创建完后获取数据，
                // 此时 data 已经被 observed 了
                this.directorList()
            },
            watch: {
                // 如果路由有变化，会再次执行该方法
                '$route': 'directorList'
            },
            methods: {
                directorList() {
                    axios.get('/director/base').then((res) => this.directors = res.data);
                },
                updateDirector(i, n, s, b, c, d) {
                    axios.put('/director/' + i, {
                        'directorId': i, 'directorName': n, 'directorSex': s, 'directorBirth': b, 'directorCountry': c
                        , 'directorDesc': d
                    }).then(
                        window.location.reload()
                    );

                },
                deleteDirector(i) {
                    axios.delete('/director/' + i, { 'directorId': i }).then(
                        window.location.reload()
                    )
                }
            },
            template: `
            <table class="table" id="">
                <thead>
                    <tr>
                        <th>导演id</th>
                        <th>导演姓名</th>
                        <th>导演性别</th>
                        <th>出生日期</th>
                        <th>国籍</th>
                        <th>简介</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(item,index) in directors">
                        <td scope="row">{{item.directorId}}</td>
                        <td>{{item.directorName}}</td>
                        <td>{{item.directorSex}}</td>
                        <td>{{item.directorBirth}}</td>
                        <td>{{item.directorCountry}}</td>
                        <td>{{item.directorDesc}}</td>
                        <td>
                            <button type="button" class="btn btn-info" data-toggle="modal" v-bind:data-target="'#modal'+item.directorId">修改</button>
                            <div class="modal fade" tabindex="-1" role="dialog" v-bind:id="'modal'+item.directorId" aria-labelledby="myModalLabel">
                                <div class="modal-dialog" role="document" >
                                    <div class="modal-content">
                                        <div class="modal-body">
                                            <form>
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">导演名字</label>
                                                    <input type="text" class="form-control" name="directorName" id="exampleInputEmail1" v-model="item.directorName" aria-describedby="emailHelp"
                                                        placeholder="输入导演姓名">
                                                </div>

                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="directorSex" v-model="item.directorSex" id="exampleRadios1" value="1">
                                                    <label class="form-check-label" for="exampleRadios1">
                                                        男
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="directorSex" v-model="item.directorSex" id="exampleRadios2" value="0">
                                                    <label class="form-check-label" for="exampleRadios2">
                                                        女
                                                    </label>
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputPassword1">出生日期</label>
                                                    <input type="text" class="form-control" name="directorBirth" id="exampleInputPassword1" v-model="item.directorBirth" placeholder="输入出生日期">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputPassword1">国籍</label>
                                                    <input type="text" class="form-control" name="directorCountry" id="exampleInputPassword1" v-model="item.directorCountry" placeholder="输入国籍">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputPassword1">简介</label>
                                                    <input type="text" class="form-control" name="directorDesc" id="exampleInputPassword1" v-model="item.directorDesc" placeholder="输入简介">
                                                </div>
                                                <button type="button" @click="updateDirector(item.directorId,item.directorName,item.directorSex
                                                ,item.directorBirth,item.directorCountry,item.directorDesc)" class="btn btn-info" >修改</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" @click="deleteDirector(item.directorId)" class="btn btn-danger">删除</button>
                        </td>

                        
                    </tr>
                </tbody>
            </table>
            `
        }

        //导演搜索 ok
        const directorSearch = {
            data() {
                return {
                    director: [],
                    directorName: ''
                }
            },
            methods: {
                findDirector(n) {
                    axios.get('/director/name/' + n).then((res) => this.director = res.data);
                },
                updateDirector(i, n, s, b, c, d) {
                    axios.put('/director/' + i, {
                        'directorId': i, 'directorName': n, 'directorSex': s, 'directorBirth': b, 'directorCountry': c
                        , 'directorDesc': d
                    }).then(window.location.reload());

                },
                deleteDirector(i) {
                    axios.delete('/director/' + i, { 'directorId': i }).then(window.location.reload())
                }
            },
            template: `
            <div>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" name="directorName" v-model="directorName" placeholder="输入导演姓名" aria-label="Search">
                
                <button @click="findDirector(directorName)" class="btn btn-outline-success my-2 my-sm-0" type="button" data-toggle="collapse" data-target="#collapseDirector3"
                    aria-expanded="false" aria-controls="collapseExample">搜索</button>
            </form>
            <div class="row">
                <div class="col-lg-12">
                    <div class="collapse" id="collapseDirector3">
                        <div class="card card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>导演id</th>
                                        <th>导演姓名</th>
                                        <th>导演性别</th>
                                        <th>出生日期</th>
                                        <th>国籍</th>
                                        <th>简介</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="d in director">
                                        <td scope="row">{{d.directorId}}</td>
                                        <td>{{d.directorName}}</td>
                                        <td>{{d.directorSex}}</td>
                                        <td>{{d.directorBirth}}</td>
                                        <td>{{d.directorCountry}}</td>
                                        <td>{{d.directorDesc}}</td>
                                        <td>
                                            <button type="button" class="btn btn-info" data-toggle="modal" v-bind:data-target="'#modal'+item.directorId">修改</button>
                                            <!-- 搜索导演并点击修改后的model -->
                                            <div class="modal fade" v-bind:id="'modal'+item.directorId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-body">
                                                            <form>
                                                                <div class="form-group">
                                                                    <label for="exampleInputEmail1">导演名字</label>
                                                                    <input type="text" class="form-control" name="directorName" v-model="d.directorName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="输入导演姓名">
                                                                </div>

                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="directorSex" id="exampleRadios1" value="1" checked>
                                                                    <label class="form-check-label" for="exampleRadios1">
                                                                        男
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="directorSex" id="exampleRadios2" value="0">
                                                                    <label class="form-check-label" for="exampleRadios2">
                                                                        女
                                                                    </label>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputPassword1">出生日期</label>
                                                                    <input type="text" class="form-control" name="directorBirth" v-model="d.directorBirth" id="exampleInputPassword1" placeholder="输入出生日期">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputPassword1">国籍</label>
                                                                    <input type="text" class="form-control" name="directorCountry" v-model="d.directorCountry" id="exampleInputPassword1" placeholder="输入国籍">
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="exampleInputPassword1">简介</label>
                                                                    <input type="text" class="form-control" name="directorDesc" v-model="d.directorDesc" id="exampleInputPassword1" placeholder="输入简介">
                                                                </div>
                                                                <button type="button" @click="updateDirector(d.directorId,d.directorName,d.directorSex
                                                                    ,d.directorBirth,d.directorCountry,d.directorDesc)" class="btn btn-info" >修改</button>
                                                            </form>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <button type="button" @click="deleteDirector(d.directorId)" class="btn btn-danger">删除</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            </div>
            `
        }

        //添加演员 ok
        const actorAdd = {
            data() {
                return {
                    actorName: '',
                    actorSex: number,
                    actorBirth: '',
                    actorCountry: '',
                    actorDesc: ''
                }
            },
            methods: {
                addActor(an, as, ab, ac, ad) {
                    axios.post('/actor', {
                        'actorName': an,
                        'actorSex': as,
                        'actorBirth': ab,
                        'actorCountry': ac,
                        'actorDesc': ad
                    }).then(
                        alert('添加成功')
                    ).catch((err) =>
                        alert('添加失败'))
                }
            },
            template: `
            <div>
                <form>
                    <div class="form-group">
                        <label for="exampleInputEmail1">演员名字</label>
                        <input type="text" class="form-control" name="actorName" v-model="actorName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="输入演员姓名">

                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="actorSex" v-model="actorSex" id="exampleRadios1" value="1" checked>
                        <label class="form-check-label" for="exampleRadios1">
                            男
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="actorSex" v-model="actorSex" id="exampleRadios2" value="0">
                        <label class="form-check-label" for="exampleRadios2">
                            女
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">出生日期</label>
                        <input type="text" class="form-control" name="actorBirth" v-model="actorBirth" id="exampleInputPassword1" placeholder="输入出生日期">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">国籍</label>
                        <input type="text" class="form-control" name="actorCountry" v-model="actorCountry" id="exampleInputPassword1" placeholder="输入国籍">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">简介</label>
                        <input type="text" class="form-control" name="actorDesc" v-model="actorDesc" id="exampleInputPassword1" placeholder="输入简介">
                    </div>
                    <button type="button" @click="addActor(actorName,actorSex,actorBirth,actorCountry,actorDesc)" class="btn btn-primary">添加</button>
                </form>
                <iframe id="iframe" name="iframeAA" style="display:none;"></iframe>
                </div>
                `
        }

        const actorPic = {
            template: `
                    <form>
                        <div class="form-group mt-3">
                            <label for="exampleInputEmail1">演员姓名</label>
                            <input type="text" class="form-control" name="name" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="输入演员姓名">
                        </div>
                        <div class="form-group mt-4">
                            <label for="exampleFormControlFile1">Example file input</label>
                            <input type="file" multiple class="form-control-file" id="exampleFormControlFile1">
                            <button type="submit" class="btn btn-primary mt-3">上传</button>
                        </div>
                    </form>
                    `
        }

        //演员列表 ok
        const actorList = {
            data() {
                return {
                    actors: []
                }
            },
            created() {
                this.actorList()
            },
            watch: {
                '$route': 'actorList'
            },
            methods: {
                actorList() {
                    axios.get('/actor/base').then((res) => this.actors = res.data)
                },
                updateActor(i, n, s, b, c, d) {
                    axios.put('/actor/' + i, {
                        'actorId': i, 'actorName': n, 'actorSex': s, 'actorBirth': b, 'actorCountry': c
                        , 'actorDesc': d
                    }).then(window.location.reload());

                },
                deleteActor(i) {
                    axios.delete('/actor/' + i, { 'actorId': i }).then(window.location.reload())
                }
            },
            template: `
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>演员id</th>
                                    <th>演员姓名</th>
                                    <th>演员性别</th>
                                    <th>出生日期</th>
                                    <th>国籍</th>
                                    <th>简介</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(a, index) in actors" :key="index">
                                    <td scope="row">{{a.actorId}}</td>
                                    <td>{{a.actorName}}</td>
                                    <td>{{a.actorSex}}</td>
                                    <td>{{a.actorBirth}}</td>
                                    <td>{{a.actorCountry}}</td>
                                    <td>{{a.actorDesc}}</td>
                                    <td>
                                        <button type="button" class="btn btn-info" data-toggle="modal" v-bind:data-target="'#modal'+a.actorId">修改</button>
                                        <div class="modal fade" v-bind:id="'modal'+a.actorId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-body">
                                                        <form>
                                                            <div class="form-group">
                                                                <label for="exampleInputEmail1">演员名字</label>
                                                                <input type="text" class="form-control" name="actorName" v-model="a.actorName" id="exampleInputEmail1" aria-describedby="emailHelp"
                                                                    placeholder="输入演员姓名">

                                                            </div>
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="radio" name="actorSex" v-model="a.actorSex" id="exampleRadios1" value="1" checked>
                                                                <label class="form-check-label" for="exampleRadios1">
                                                                    男
                                                                </label>
                                                            </div>
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="radio" name="actorSex" v-model="a.actorSex" id="exampleRadios2" value="0">
                                                                <label class="form-check-label" for="exampleRadios2">
                                                                    女
                                                                </label>
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="exampleInputPassword1">出生日期</label>
                                                                <input type="text" class="form-control" name="actorBirth" v-model="a.actorBirth" id="exampleInputPassword1" placeholder="输入出生日期">
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="exampleInputPassword1">国籍</label>
                                                                <input type="text" class="form-control" name="actorCountry" v-model="a.actorCountry" id="exampleInputPassword1" placeholder="输入国籍">
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="exampleInputPassword1">简介</label>
                                                                <input type="text" class="form-control" name="actorDesc" v-model="a.actorDesc" id="exampleInputPassword1" placeholder="输入简介">
                                                            </div>
                                                            <button type="button" @click="updateActor(a.actorId,a.actorName,a.actorSex
                                                                ,a.actorBirth,a.actorCountry,a.actorDesc)" class="btn btn-info" >修改</button>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="button" @click="deleteActor(a.actorId)" class="btn btn-danger">删除</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        `
        }

        //搜索演员 ok
        const actorSearch = {
            data() {
                return {
                    actor: [],
                    actorName: ''
                }
            },
            methods: {
                findActor(n) {
                    axios.get('/actor/name/' + n).then((res) => this.actor = res.data);
                },
                updateActor(i, n, s, b, c, d) {
                    axios.put('/actor/' + i, {
                        'actorId': i, 'actorName': n, 'actorSex': s, 'actorBirth': b, 'actorCountry': c
                        , 'actorDesc': d
                    }).then(window.location.reload());

                },
                deleteActor(i) {
                    axios.delete('/actor/' + i, { 'actorId': i }).then(window.location.reload())
                }
            },
            template: `
            <div>
                            <form class="form-inline my-2 my-lg-0">
                                <input class="form-control mr-sm-2" name="actorName" v-model="actorName" placeholder="输入演员姓名" aria-label="Search">
                                <!-- 点击按钮后发送导演名并展开下拉内容框 （后续增加点击事件）-->
                                <button @click="findActor(actorName)" class="btn btn-outline-success my-2 my-sm-0" type="button" data-toggle="collapse" data-target="#collapseActor3" aria-expanded="false"
                                    aria-controls="collapseExample">搜索</button>
                            </form>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="collapse" id="collapseActor3">
                                        <div class="card card-body">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>演员id</th>
                                                        <th>演员姓名</th>
                                                        <th>演员性别</th>
                                                        <th>出生日期</th>
                                                        <th>国籍</th>
                                                        <th>简介</th>
                                                        <th>操作</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr v-for="a in actor">
                                                        <td scope="row">{{a.actorId}}</td>
                                                        <td>{{a.actorName}}</td>
                                                        <td>{{a.actorSex}}</td>
                                                        <td>{{a.actorBirth}}</td>
                                                        <td>{{a.actorCountry}}</td>
                                                        <td>{{a.actorDesc}}</td>
                                                        <td>
                                                            <button type="button" class="btn btn-info" data-toggle="modal" v-bind:data-target="'#modal'+a.actorId">修改</button>
                                                            <div class="modal fade" v-bind:id="'modal'+a.actorId" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                                <div class="modal-dialog" role="document">
                                                                    <div class="modal-content">
                                                                        <div class="modal-body">
                                                                            <form>
                                                                                <div class="form-group">
                                                                                    <label for="exampleInputEmail1">演员名字</label>
                                                                                    <input type="text" class="form-control" name="actorName" v-model="a.actorName" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="输入演员姓名">

                                                                                </div>

                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="actorSex" v-model="a.actorSex" id="exampleRadios1" value="1" checked>
                                                                                    <label class="form-check-label" for="exampleRadios1">
                                                                                        男
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="actorSex" v-model="a.actorSex" id="exampleRadios2" value="0">
                                                                                    <label class="form-check-label" for="exampleRadios2">
                                                                                        女
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label for="exampleInputPassword1">出生日期</label>
                                                                                    <input type="text" class="form-control" name="actorBirth" v-model="a.actorBirth" id="exampleInputPassword1" placeholder="输入出生日期">
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label for="exampleInputPassword1">国籍</label>
                                                                                    <input type="text" class="form-control" name="actorCountry" v-model="a.actorCountry" id="exampleInputPassword1" placeholder="输入国籍">
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label for="exampleInputPassword1">简介</label>
                                                                                    <input type="text" class="form-control" name="actorDesc" v-model="a.actorDesc" id="exampleInputPassword1" placeholder="输入简介">
                                                                                </div>
                                                                                <button type="button" @click="updateActor(a.actorId,a.actorName,a.actorSex
                                                                                    ,a.actorBirth,a.actorCountry,a.actorDesc)" class="btn btn-info" >修改</button>
                                                                            </form>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <button type="button" @click="deleteActor(a.actorId)" class="btn btn-danger">删除</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                            `
        }

        //创建route
        const routes = [{
            path: '/movie',
            component: movieManage,
            children: [{
                path: 'add',
                component: movieAdd
            },
            {
                path: 'poster',
                component: moviePoster
            },
            {
                path: 'list',
                component: movieList
            },
            {
                path: 'search',
                component: movieSearch
            }]
        },
        {
            path: '/vip',
            component: vipManage,
            children: [{
                path: 'list',
                component: vipList,
            },
            {
                path: 'search',
                component: vipSearch
            },
            {
                path:'comment',
                component:vipComment
            }]
        },
        {
            path: '/director',
            component: directorManage,
            children: [{
                path: 'add',
                component: directorAdd,
            },
            {
                path: 'pic',
                component: directorPic,
            },
            {
                path: 'list',
                component: directorList,
            },
            {
                path: 'search',
                component: directorSearch
            }]
        },
        {
            path: '/actor',
            component: actorManage,
            children: [{
                path: 'add',
                component: actorAdd,
            },
            {
                path: 'pic',
                component: actorPic,
            },
            {
                path: 'list',
                component: actorList,
            },
            {
                path: 'search',
                component: actorSearch
            }]
        }
        ]
        //创建router
        const router = new VueRouter({
            routes
        })
        //挂载
        const app = new Vue({
            router
        }).$mount('#manage')

        axios.get('/director').then((res) => this.directors = res.data);
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>

</html>